- [工具软件](#工具软件)
- [功能简介](#功能简介)
- [代码剖析](#代码剖析)

前面的两篇文章讲解了Bluetooth LE广播的一些基本概念，让大家对广播有一个初步的了解，那么本篇文章将实例化讲解如何实现可连接可扫描非定向的Bluetooth LE广播事件，也是目前使用最多的一种广播事件。

# 工具软件
本文为实现可连接可扫描非定向的Bluetooth LE广播事件，将会使用到如下所示的硬件和软件：
- 硬件平台
  - [HX-DK-商](https://item.taobao.com/item.htm?spm=a1z10.1-c-s.w4004-22286946226.12.7f292c2cfSNrZb&id=654877303965)开发板 * 1
  - USB 转 Type-C数据线 * 1
- 软件平台
  - Visual Studio Code v1.71.2
  - Espressif IDF插件 v1.5.0
  - ESP-IDF
    - master分支，commit ID：02605f1a31be4233b97e83a0460bb458f277dfea
  - IDF工具包
    - esptool-4.3
    - esp-coredump-1.4
    - riscv32-esp-elf-gdb-11.2_20220823
    - riscv32-esp-elf-2022r1-11.2.0
    - cmake-3.24.0
    - openocd-esp32-v0.11.0-esp32-20220706
    - ninja-1.10.2
    - idf-exe-1.0.3
    - ccache-4.6.2-windows-x86_64
    - idf5.1_py3.9_env

如果读者们在按照本文中提及的方法，实现自己的可连接可扫描非定向的Bluetooth LE广播事件时，遇到无法正常工作的问题，请务必参考上述的硬件平台或者软件平台的软件的版本是否一致。

# 功能简介

该实例将以100ms的时间间隔，向外广播设备名为 **我是谁?** 的可连接可扫描的非定向广播PDUs；如果接收到扫描请求PDUs的话，则会回复设备名为**HX-DK-商**的扫描响应包。

# 代码剖析

![](https://docdisk.wireless-tech.cn/img/2022/10/06/43adv_ind_event_20221006180917921956.svg)